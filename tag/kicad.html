<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>My Bug Has A Program! - kicad</title>
        <link rel="stylesheet" href="../theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">My Bug Has A Program! </a></h1>
                <nav><ul>
                    <li><a href="../category/articles.html">articles</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../esp32-phy2.html">ESP32 PHY board 2</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-11-07T00:00:00+09:00">
                Published: 火 07 11月 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/kaz-kojima.html">Kaz Kojima</a>
        </address>
<p>In <a href="../category/articles.html">articles</a>.</p>
<p>tags: <a href="../tag/esp32.html">esp32</a> <a href="../tag/kicad.html">kicad</a> </p>
</footer><!-- /.post-info --><p>I'm trying another simple board for esp32 with ethernet. This is a board to mount ESP32 DevKit-C and Waveshare LAN8720 PHY module with a few extra parts. It can also use ESP-WROOM-32 chip directly instead of DevKit-C module.</p>
<img alt="esp32-wslan8720 test" src="../images/esp32ether2-test.jpg" style="width: 640px; height: 400px;" />
<img alt="esp32-wslan8720 board" src="../images/esp32ether2-board.jpg" style="width: 640px; height: 400px;" />
<p>KiCAD files for this board can be seen <a class="reference external" href="https://github.com/kazkojima/esp32-phy">here</a> as hardware/esp32-wslan8720. Notice that there are choices for this board.</p>
<blockquote>
<ol class="arabic simple">
<li>One jumper for LAN8720 board which connects X'tal osc enable and NC pin and implement R1 only.</li>
<li>Two pattern-cuts and one jumper for DevKit-C and implement parts except R1. This uses TI TS5A3157 analog switch to select GPIO0 connection.</li>
<li>Solder ESP-WROOM-32 directly and<ol class="upperalpha">
<li>Use one jumper for LAN8720 and R1 only,  or</li>
<li>Use parts except R1.</li>
</ol>
</li>
</ol>
</blockquote>
<p>For the case 2, cut CLK line:</p>
<img alt="esp32-devkit-c cut clk line" src="../images/devkit-clk.jpg" style="width: 640px; height: 400px;" />
<p>and cut boot switch line from GPIO0 and connect it to CLK pin:</p>
<img alt="esp32-devkit-c cut gpio0 line" src="../images/devkit-gpio0.jpg" style="width: 640px; height: 400px;" />
<p>For the first case, we need a jumper which</p>
<p><a class="reference external" href="https://sautter.com/blog/ethernet-on-esp32-using-lan8720/">https://sautter.com/blog/ethernet-on-esp32-using-lan8720/</a></p>
<p>gives so as to connect enable pin of 50MHz X'tal OSC to NC pin of LAN8720 module connector. In this case, the 50MHz osc output connected directly the boot circuit. R1 limits the current when the boot circuit try to pull the line to GND. 75ohm works in my tests.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="../esp32-phy.html" rel="bookmark"
                           title="Permalink to ESP32 PHY board">ESP32 PHY board</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-10-18T00:00:00+09:00">
                Published: 水 18 10月 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/kaz-kojima.html">Kaz Kojima</a>
        </address>
<p>In <a href="../category/articles.html">articles</a>.</p>
<p>tags: <a href="../tag/esp32.html">esp32</a> <a href="../tag/kicad.html">kicad</a> </p>
</footer><!-- /.post-info -->                <p>I'm making a simple esp32 board with ethernet. ESP32 has MAC and esp-idf supports PHYs like LAN87x0 and TLK110 already. Here is the schematic with KiCAD:</p>
<img alt="esp32-tlk110 schematic" src="../images/esp32-tlk110.png" style="width: 640px; height: 400px;" />
<p>I'll create a git repository for that hardware if it works.</p>
<p><em>Update 2017-10-21</em></p>
<p>Now it works!</p>
<img alt="esp32-tlk110 works" src="../images/esp32-tlk110-jumpers.jpg" style="width: 640px; height: 400px;" />
<p>Revised KiCAD files for this board ...</p>
                <a class="readmore" href="../esp32-phy.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="http://www.fsij.org/">FSIJ</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/1gkojima">twitter</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>